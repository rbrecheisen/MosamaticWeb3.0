{% extends "../base.html" %}
{% block content %}
<div class="container-fluid">
    <div class="row"><p style="margin-top: 10px"><a href="/tasks/">Back</a></p></div>
    <div class="row">
        <div class="col-sm-10">
            <div class="card" style="margin-top: 10px;">
                <div class="card-body">
                    <span style="float: left">
                        <input
                                type="checkbox"
                                class="form-check-input"
                                id="auto_refresh"
                                onclick="autoRefresh();"
                                {% if auto_refresh == "1" %} checked {% endif %}>
                        <label class="form-check-label" for="auto_refresh">Auto-refresh</label>
                        <script>
                            function autoRefresh() {
                                let href = window.location.href;
                                if(document.getElementById('auto_refresh').checked) {
                                    if(href.endsWith('?auto_refresh=1') === false) {
                                        href = window.location.href + '?auto_refresh=1';
                                    }
                                } else {
                                    if(href.endsWith('?auto_refresh=1')) {
                                        href = href.substring(0, href.length - 15);
                                    }
                                }
                                window.location = href;
                            }
                        </script>
                    </span>
                </div>
            </div>
        </div>
    </div>
    {% block task %}{% endblock %}
</div>
{% endblock %}
